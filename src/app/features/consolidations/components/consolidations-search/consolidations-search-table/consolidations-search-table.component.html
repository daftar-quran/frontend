@if ({ consolidations: consolidations$ | async }) {
  @if (consolidations?.data?.length) {
    <mat-card>
      <mat-card-content>
        <div class="responsive-table">
          <mat-table [dataSource]="consolidations" matSort>
            <!-- Page -->
            <ng-container matColumnDef="page">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                Page
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.page }}
              </mat-cell>
            </ng-container>

            <!-- Date -->
            <ng-container matColumnDef="date">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                Date
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.date }}
              </mat-cell>
            </ng-container>

            <!-- Sura -->
            <ng-container matColumnDef="sura">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                Sourat
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.sura }}
              </mat-cell>
            </ng-container>

            <!-- Chaikh -->
            <ng-container matColumnDef="chaikh">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                Chaikh
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.chaikh }}
              </mat-cell>
            </ng-container>

            <!-- Appreciation -->
            <ng-container matColumnDef="appreciation">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                Appreciation
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                {{ element.appreciation }}
              </mat-cell>
            </ng-container>

            <!-- Observation -->
            <ng-container matColumnDef="observation">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                Observation
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                <span class="truncate" [matTooltip]="element.observation">
                  {{ element.observation }}
                </span>
              </mat-cell>
            </ng-container>

            <!-- Tikrar -->
            <ng-container matColumnDef="tikrar">
              <mat-header-cell *matHeaderCellDef mat-sort-header>
                Tikrar
              </mat-header-cell>
              <mat-cell *matCellDef="let element">
                <div class="flex items-center gap-2">
                  <button
                    mat-icon-button
                    color="primary"
                    [disabled]="element.tikrar <= 0"
                    (click)="subtractTikrar(element); $event.stopPropagation()"
                  >
                    <mat-icon fontIcon="remove" />
                  </button>
                  {{ element.tikrar }}
                  <button
                    mat-icon-button
                    color="primary"
                    [disabled]="element.tikrar >= 40"
                    (click)="addTikrar(element); $event.stopPropagation()"
                  >
                    <mat-icon fontIcon="add" />
                  </button>
                </div>
              </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="columns" />
            <mat-row *matRowDef="let row; columns: columns" />
          </mat-table>
          @if (consolidations.data.length > MIN_PAGE_SIZE_OPTIONS) {
            <mat-paginator />
          }
        </div>
      </mat-card-content>
    </mat-card>
  }
}
